(()=>{const e=e=>jn.require(e);const{PureComponent:t}=e("layout/pure-component");const{WorkflowList:i}=e("bizproc/workflow/list");class s extends t{TAB_ID="bizproc";isActive=true;inactiveTime;listRef;render(){return new i({layout:layout,ref:e=>this.listRef=e})}async componentDidMount(){BX.addCustomEvent("onAppActive",(()=>this.onAppActive()));BX.addCustomEvent("onAppPaused",(()=>this.onAppPaused()));BX.addCustomEvent("onTabsSelected",(e=>this.onTabsSelected(e)));BX.addCustomEvent("onTabsReSelected",(e=>this.onTabsReSelected(e)))}onAppActive(){this.askToReload()}onAppPaused(){this.inactiveTime??=Date.now()}onTabsSelected(e){this.isActive=e===this.TAB_ID;if(this.isActive){this.askToReload()}else{this.inactiveTime??=Date.now()}}onTabsReSelected(e){if(this.isActive){this.reload()}}askToReload(){if(this.isActive&&this.inactiveTime){const e=Math.round((Date.now()-this.inactiveTime)/6e4);if(e>=30){this.reload()}}if(this.isActive){this.inactiveTime=null}}reload(){if(this.listRef){this.listRef.reload()}}}layout.showComponent(new s)})();
//# sourceMappingURL=component.map.js